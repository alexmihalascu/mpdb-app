{"ast":null,"code":"'use strict';\n\nmodule.exports = inflight;\nlet Bluebird;\ntry {\n  Bluebird = require('bluebird');\n} catch (_) {\n  Bluebird = Promise;\n}\nconst active = {};\ninflight.active = active;\nfunction inflight(unique, doFly) {\n  return Bluebird.all([unique, doFly]).then(function (args) {\n    const unique = args[0];\n    const doFly = args[1];\n    if (Array.isArray(unique)) {\n      return Bluebird.all(unique).then(function (uniqueArr) {\n        return _inflight(uniqueArr.join(''), doFly);\n      });\n    } else {\n      return _inflight(unique, doFly);\n    }\n  });\n  function _inflight(unique, doFly) {\n    if (!active[unique]) {\n      active[unique] = new Bluebird(function (resolve) {\n        return resolve(doFly());\n      });\n      active[unique].then(cleanup, cleanup);\n      function cleanup() {\n        delete active[unique];\n      }\n    }\n    return active[unique];\n  }\n}","map":{"version":3,"names":["module","exports","inflight","Bluebird","require","_","Promise","active","unique","doFly","all","then","args","Array","isArray","uniqueArr","_inflight","join","resolve","cleanup"],"sources":["/Users/alexmihalascu/Desktop/mpdb-app/node_modules/promise-inflight/inflight.js"],"sourcesContent":["'use strict'\nmodule.exports = inflight\n\nlet Bluebird\ntry {\n  Bluebird = require('bluebird')\n} catch (_) {\n  Bluebird = Promise\n}\n\nconst active = {}\ninflight.active = active\nfunction inflight (unique, doFly) {\n  return Bluebird.all([unique, doFly]).then(function (args) {\n    const unique = args[0]\n    const doFly = args[1]\n    if (Array.isArray(unique)) {\n      return Bluebird.all(unique).then(function (uniqueArr) {\n        return _inflight(uniqueArr.join(''), doFly)\n      })\n    } else {\n      return _inflight(unique, doFly)\n    }\n  })\n\n  function _inflight (unique, doFly) {\n    if (!active[unique]) {\n      active[unique] = (new Bluebird(function (resolve) {\n        return resolve(doFly())\n      }))\n      active[unique].then(cleanup, cleanup)\n      function cleanup() { delete active[unique] }\n    }\n    return active[unique]\n  }\n}\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,OAAO,GAAGC,QAAQ;AAEzB,IAAIC,QAAQ;AACZ,IAAI;EACFA,QAAQ,GAAGC,OAAO,CAAC,UAAU,CAAC;AAChC,CAAC,CAAC,OAAOC,CAAC,EAAE;EACVF,QAAQ,GAAGG,OAAO;AACpB;AAEA,MAAMC,MAAM,GAAG,CAAC,CAAC;AACjBL,QAAQ,CAACK,MAAM,GAAGA,MAAM;AACxB,SAASL,QAAQ,CAAEM,MAAM,EAAEC,KAAK,EAAE;EAChC,OAAON,QAAQ,CAACO,GAAG,CAAC,CAACF,MAAM,EAAEC,KAAK,CAAC,CAAC,CAACE,IAAI,CAAC,UAAUC,IAAI,EAAE;IACxD,MAAMJ,MAAM,GAAGI,IAAI,CAAC,CAAC,CAAC;IACtB,MAAMH,KAAK,GAAGG,IAAI,CAAC,CAAC,CAAC;IACrB,IAAIC,KAAK,CAACC,OAAO,CAACN,MAAM,CAAC,EAAE;MACzB,OAAOL,QAAQ,CAACO,GAAG,CAACF,MAAM,CAAC,CAACG,IAAI,CAAC,UAAUI,SAAS,EAAE;QACpD,OAAOC,SAAS,CAACD,SAAS,CAACE,IAAI,CAAC,EAAE,CAAC,EAAER,KAAK,CAAC;MAC7C,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,OAAOO,SAAS,CAACR,MAAM,EAAEC,KAAK,CAAC;IACjC;EACF,CAAC,CAAC;EAEF,SAASO,SAAS,CAAER,MAAM,EAAEC,KAAK,EAAE;IACjC,IAAI,CAACF,MAAM,CAACC,MAAM,CAAC,EAAE;MACnBD,MAAM,CAACC,MAAM,CAAC,GAAI,IAAIL,QAAQ,CAAC,UAAUe,OAAO,EAAE;QAChD,OAAOA,OAAO,CAACT,KAAK,EAAE,CAAC;MACzB,CAAC,CAAE;MACHF,MAAM,CAACC,MAAM,CAAC,CAACG,IAAI,CAACQ,OAAO,EAAEA,OAAO,CAAC;MACrC,SAASA,OAAO,GAAG;QAAE,OAAOZ,MAAM,CAACC,MAAM,CAAC;MAAC;IAC7C;IACA,OAAOD,MAAM,CAACC,MAAM,CAAC;EACvB;AACF"},"metadata":{},"sourceType":"script","externalDependencies":[]}