{"ast":null,"code":"'use strict';\n\nconst path = require('path');\nconst log = require('npmlog');\nfunction findNodeDirectory(scriptLocation, processObj) {\n  // set dirname and process if not passed in\n  // this facilitates regression tests\n  if (scriptLocation === undefined) {\n    scriptLocation = __dirname;\n  }\n  if (processObj === undefined) {\n    processObj = process;\n  }\n\n  // Have a look to see what is above us, to try and work out where we are\n  var npmParentDirectory = path.join(scriptLocation, '../../../..');\n  log.verbose('node-gyp root', 'npm_parent_directory is ' + path.basename(npmParentDirectory));\n  var nodeRootDir = '';\n  log.verbose('node-gyp root', 'Finding node root directory');\n  if (path.basename(npmParentDirectory) === 'deps') {\n    // We are in a build directory where this script lives in\n    // deps/npm/node_modules/node-gyp/lib\n    nodeRootDir = path.join(npmParentDirectory, '..');\n    log.verbose('node-gyp root', 'in build directory, root = ' + nodeRootDir);\n  } else if (path.basename(npmParentDirectory) === 'node_modules') {\n    // We are in a node install directory where this script lives in\n    // lib/node_modules/npm/node_modules/node-gyp/lib or\n    // node_modules/npm/node_modules/node-gyp/lib depending on the\n    // platform\n    if (processObj.platform === 'win32') {\n      nodeRootDir = path.join(npmParentDirectory, '..');\n    } else {\n      nodeRootDir = path.join(npmParentDirectory, '../..');\n    }\n    log.verbose('node-gyp root', 'in install directory, root = ' + nodeRootDir);\n  } else {\n    // We don't know where we are, try working it out from the location\n    // of the node binary\n    var nodeDir = path.dirname(processObj.execPath);\n    var directoryUp = path.basename(nodeDir);\n    if (directoryUp === 'bin') {\n      nodeRootDir = path.join(nodeDir, '..');\n    } else if (directoryUp === 'Release' || directoryUp === 'Debug') {\n      // If we are a recently built node, and the directory structure\n      // is that of a repository. If we are on Windows then we only need\n      // to go one level up, everything else, two\n      if (processObj.platform === 'win32') {\n        nodeRootDir = path.join(nodeDir, '..');\n      } else {\n        nodeRootDir = path.join(nodeDir, '../..');\n      }\n    }\n    // Else return the default blank, \"\".\n  }\n\n  return nodeRootDir;\n}\nmodule.exports = findNodeDirectory;","map":{"version":3,"names":["path","require","log","findNodeDirectory","scriptLocation","processObj","undefined","__dirname","process","npmParentDirectory","join","verbose","basename","nodeRootDir","platform","nodeDir","dirname","execPath","directoryUp","module","exports"],"sources":["/Users/alexmihalascu/Desktop/mpdb-app/node_modules/node-gyp/lib/find-node-directory.js"],"sourcesContent":["'use strict'\n\nconst path = require('path')\nconst log = require('npmlog')\n\nfunction findNodeDirectory (scriptLocation, processObj) {\n  // set dirname and process if not passed in\n  // this facilitates regression tests\n  if (scriptLocation === undefined) {\n    scriptLocation = __dirname\n  }\n  if (processObj === undefined) {\n    processObj = process\n  }\n\n  // Have a look to see what is above us, to try and work out where we are\n  var npmParentDirectory = path.join(scriptLocation, '../../../..')\n  log.verbose('node-gyp root', 'npm_parent_directory is ' +\n              path.basename(npmParentDirectory))\n  var nodeRootDir = ''\n\n  log.verbose('node-gyp root', 'Finding node root directory')\n  if (path.basename(npmParentDirectory) === 'deps') {\n    // We are in a build directory where this script lives in\n    // deps/npm/node_modules/node-gyp/lib\n    nodeRootDir = path.join(npmParentDirectory, '..')\n    log.verbose('node-gyp root', 'in build directory, root = ' +\n                nodeRootDir)\n  } else if (path.basename(npmParentDirectory) === 'node_modules') {\n    // We are in a node install directory where this script lives in\n    // lib/node_modules/npm/node_modules/node-gyp/lib or\n    // node_modules/npm/node_modules/node-gyp/lib depending on the\n    // platform\n    if (processObj.platform === 'win32') {\n      nodeRootDir = path.join(npmParentDirectory, '..')\n    } else {\n      nodeRootDir = path.join(npmParentDirectory, '../..')\n    }\n    log.verbose('node-gyp root', 'in install directory, root = ' +\n                nodeRootDir)\n  } else {\n    // We don't know where we are, try working it out from the location\n    // of the node binary\n    var nodeDir = path.dirname(processObj.execPath)\n    var directoryUp = path.basename(nodeDir)\n    if (directoryUp === 'bin') {\n      nodeRootDir = path.join(nodeDir, '..')\n    } else if (directoryUp === 'Release' || directoryUp === 'Debug') {\n      // If we are a recently built node, and the directory structure\n      // is that of a repository. If we are on Windows then we only need\n      // to go one level up, everything else, two\n      if (processObj.platform === 'win32') {\n        nodeRootDir = path.join(nodeDir, '..')\n      } else {\n        nodeRootDir = path.join(nodeDir, '../..')\n      }\n    }\n    // Else return the default blank, \"\".\n  }\n  return nodeRootDir\n}\n\nmodule.exports = findNodeDirectory\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAM,CAAC;AAC5B,MAAMC,GAAG,GAAGD,OAAO,CAAC,QAAQ,CAAC;AAE7B,SAASE,iBAAiB,CAAEC,cAAc,EAAEC,UAAU,EAAE;EACtD;EACA;EACA,IAAID,cAAc,KAAKE,SAAS,EAAE;IAChCF,cAAc,GAAGG,SAAS;EAC5B;EACA,IAAIF,UAAU,KAAKC,SAAS,EAAE;IAC5BD,UAAU,GAAGG,OAAO;EACtB;;EAEA;EACA,IAAIC,kBAAkB,GAAGT,IAAI,CAACU,IAAI,CAACN,cAAc,EAAE,aAAa,CAAC;EACjEF,GAAG,CAACS,OAAO,CAAC,eAAe,EAAE,0BAA0B,GAC3CX,IAAI,CAACY,QAAQ,CAACH,kBAAkB,CAAC,CAAC;EAC9C,IAAII,WAAW,GAAG,EAAE;EAEpBX,GAAG,CAACS,OAAO,CAAC,eAAe,EAAE,6BAA6B,CAAC;EAC3D,IAAIX,IAAI,CAACY,QAAQ,CAACH,kBAAkB,CAAC,KAAK,MAAM,EAAE;IAChD;IACA;IACAI,WAAW,GAAGb,IAAI,CAACU,IAAI,CAACD,kBAAkB,EAAE,IAAI,CAAC;IACjDP,GAAG,CAACS,OAAO,CAAC,eAAe,EAAE,6BAA6B,GAC9CE,WAAW,CAAC;EAC1B,CAAC,MAAM,IAAIb,IAAI,CAACY,QAAQ,CAACH,kBAAkB,CAAC,KAAK,cAAc,EAAE;IAC/D;IACA;IACA;IACA;IACA,IAAIJ,UAAU,CAACS,QAAQ,KAAK,OAAO,EAAE;MACnCD,WAAW,GAAGb,IAAI,CAACU,IAAI,CAACD,kBAAkB,EAAE,IAAI,CAAC;IACnD,CAAC,MAAM;MACLI,WAAW,GAAGb,IAAI,CAACU,IAAI,CAACD,kBAAkB,EAAE,OAAO,CAAC;IACtD;IACAP,GAAG,CAACS,OAAO,CAAC,eAAe,EAAE,+BAA+B,GAChDE,WAAW,CAAC;EAC1B,CAAC,MAAM;IACL;IACA;IACA,IAAIE,OAAO,GAAGf,IAAI,CAACgB,OAAO,CAACX,UAAU,CAACY,QAAQ,CAAC;IAC/C,IAAIC,WAAW,GAAGlB,IAAI,CAACY,QAAQ,CAACG,OAAO,CAAC;IACxC,IAAIG,WAAW,KAAK,KAAK,EAAE;MACzBL,WAAW,GAAGb,IAAI,CAACU,IAAI,CAACK,OAAO,EAAE,IAAI,CAAC;IACxC,CAAC,MAAM,IAAIG,WAAW,KAAK,SAAS,IAAIA,WAAW,KAAK,OAAO,EAAE;MAC/D;MACA;MACA;MACA,IAAIb,UAAU,CAACS,QAAQ,KAAK,OAAO,EAAE;QACnCD,WAAW,GAAGb,IAAI,CAACU,IAAI,CAACK,OAAO,EAAE,IAAI,CAAC;MACxC,CAAC,MAAM;QACLF,WAAW,GAAGb,IAAI,CAACU,IAAI,CAACK,OAAO,EAAE,OAAO,CAAC;MAC3C;IACF;IACA;EACF;;EACA,OAAOF,WAAW;AACpB;AAEAM,MAAM,CAACC,OAAO,GAAGjB,iBAAiB"},"metadata":{},"sourceType":"script","externalDependencies":[]}