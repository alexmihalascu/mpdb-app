{"ast":null,"code":"'use strict';\n\nconst LRU = require('lru-cache');\nconst MAX_SIZE = 50 * 1024 * 1024; // 50MB\nconst MAX_AGE = 3 * 60 * 1000;\nconst MEMOIZED = new LRU({\n  max: MAX_SIZE,\n  maxAge: MAX_AGE,\n  length: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length\n});\nmodule.exports.clearMemoized = clearMemoized;\nfunction clearMemoized() {\n  const old = {};\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v;\n  });\n  MEMOIZED.reset();\n  return old;\n}\nmodule.exports.put = put;\nfunction put(cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, {\n    entry,\n    data\n  });\n  putDigest(cache, entry.integrity, data, opts);\n}\nmodule.exports.put.byDigest = putDigest;\nfunction putDigest(cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data);\n}\nmodule.exports.get = get;\nfunction get(cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`);\n}\nmodule.exports.get.byDigest = getDigest;\nfunction getDigest(cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`);\n}\nclass ObjProxy {\n  constructor(obj) {\n    this.obj = obj;\n  }\n  get(key) {\n    return this.obj[key];\n  }\n  set(key, val) {\n    this.obj[key] = val;\n  }\n}\nfunction pickMem(opts) {\n  if (!opts || !opts.memoize) return MEMOIZED;else if (opts.memoize.get && opts.memoize.set) return opts.memoize;else if (typeof opts.memoize === 'object') return new ObjProxy(opts.memoize);else return MEMOIZED;\n}","map":{"version":3,"names":["LRU","require","MAX_SIZE","MAX_AGE","MEMOIZED","max","maxAge","length","entry","key","startsWith","data","module","exports","clearMemoized","old","forEach","v","k","reset","put","cache","opts","pickMem","set","putDigest","integrity","byDigest","get","getDigest","ObjProxy","constructor","obj","val","memoize"],"sources":["/Users/alexmihalascu/Desktop/mpdb-app/node_modules/cacache/lib/memoization.js"],"sourcesContent":["'use strict'\n\nconst LRU = require('lru-cache')\n\nconst MAX_SIZE = 50 * 1024 * 1024 // 50MB\nconst MAX_AGE = 3 * 60 * 1000\n\nconst MEMOIZED = new LRU({\n  max: MAX_SIZE,\n  maxAge: MAX_AGE,\n  length: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length,\n})\n\nmodule.exports.clearMemoized = clearMemoized\n\nfunction clearMemoized () {\n  const old = {}\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v\n  })\n  MEMOIZED.reset()\n  return old\n}\n\nmodule.exports.put = put\n\nfunction put (cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, { entry, data })\n  putDigest(cache, entry.integrity, data, opts)\n}\n\nmodule.exports.put.byDigest = putDigest\n\nfunction putDigest (cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data)\n}\n\nmodule.exports.get = get\n\nfunction get (cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`)\n}\n\nmodule.exports.get.byDigest = getDigest\n\nfunction getDigest (cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`)\n}\n\nclass ObjProxy {\n  constructor (obj) {\n    this.obj = obj\n  }\n\n  get (key) {\n    return this.obj[key]\n  }\n\n  set (key, val) {\n    this.obj[key] = val\n  }\n}\n\nfunction pickMem (opts) {\n  if (!opts || !opts.memoize)\n    return MEMOIZED\n  else if (opts.memoize.get && opts.memoize.set)\n    return opts.memoize\n  else if (typeof opts.memoize === 'object')\n    return new ObjProxy(opts.memoize)\n  else\n    return MEMOIZED\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}